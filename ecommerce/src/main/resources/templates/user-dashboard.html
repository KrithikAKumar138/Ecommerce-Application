<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>E-Store | User Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Icons (optional) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">


    <style>
        :root {
          --primary: #2563eb;
          --primary-dark: #1e40af;
          --bg: #f4f6fb;
          --text: #0f172a;
          --muted: #64748b;
          --card: #ffffff;
          --success: #16a34a;
          --danger: #dc2626;
          --warning: #f59e0b;
          --shadow: 0 10px 25px rgba(0,0,0,0.08);
          --radius: 14px;
        }

        * { box-sizing: border-box; }

        body {
          margin: 0;
          font-family: "Inter", Arial, sans-serif;
          background: var(--bg);
          color: var(--text);
        }

        a { text-decoration: none; color: inherit; }

        .navbar {
          background: #fff;
          box-shadow: 0 2px 12px rgba(0,0,0,0.06);
          position: sticky;
          top: 0;
          z-index: 10;
        }

        .nav-inner {
          max-width: 1200px;
          margin: 0 auto;
          padding: 14px 20px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 16px;
        }

        .brand {
          display: flex;
          align-items: center;
          gap: 10px;
          font-weight: 800;
          font-size: 22px;
          color: var(--primary);
        }

        .nav-links {
          display: flex;
          gap: 20px;
          align-items: center;
          color: var(--muted);
          font-weight: 600;
        }

        .nav-links a:hover { color: var(--primary); }

        .nav-actions {
          display: flex;
          gap: 12px;
          align-items: center;
        }

        .search-box {
          position: relative;
        }

        .search-box input {
          padding: 10px 38px 10px 14px;
          border-radius: 999px;
          border: 1px solid #e5e7eb;
          outline: none;
          min-width: 220px;
        }

        .search-box input:focus {
          border-color: var(--primary);
          box-shadow: 0 0 0 2px rgba(37,99,235,0.15);
        }

        .search-box button {
          position: absolute;
          right: 10px;
          top: 50%;
          transform: translateY(-50%);
          border: none;
          background: transparent;
          cursor: pointer;
          font-size: 16px;
        }

        .user-menu {
          font-weight: 600;
          color: var(--text);
        }

        .hero {
          max-width: 1200px;
          margin: 24px auto 0;
          padding: 0 20px;
        }

        .hero-box {
          background: linear-gradient(135deg, #3b82f6, #2563eb);
          border-radius: 24px;
          padding: 48px 28px;
          color: #fff;
          text-align: center;
          box-shadow: var(--shadow);
        }

        .hero-box h1 {
          margin: 0 0 10px;
          font-size: 38px;
        }

        .hero-box p {
          margin: 0;
          opacity: 0.95;
          font-size: 16px;
        }

        .section {
          max-width: 1200px;
          margin: 40px auto;
          padding: 0 20px;
        }

        .section h2 {
          margin-bottom: 20px;
          font-size: 24px;
        }

        .categories {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 18px;
        }

        .category-card {
          background: var(--card);
          border-radius: var(--radius);
          padding: 22px;
          text-align: center;
          box-shadow: var(--shadow);
          transition: transform 0.15s ease, box-shadow 0.15s ease;
        }

        .category-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 14px 30px rgba(0,0,0,0.1);
        }

        .category-card h4 {
          margin: 8px 0 6px;
        }

        .category-card p {
          margin: 0;
          color: var(--muted);
          font-size: 14px;
        }

        .products-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 20px;
        }

        .product-card {
          background: var(--card);
          border-radius: var(--radius);
          overflow: hidden;
          box-shadow: var(--shadow);
          display: flex;
          flex-direction: column;
          transition: transform 0.15s ease, box-shadow 0.15s ease;
        }

        .product-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 14px 30px rgba(0,0,0,0.1);
        }

        .product-card img {
          width: 100%;
          height: 200px;
          object-fit: cover;
          background: #f1f5f9;
        }

        .product-body {
          padding: 16px;
          display: flex;
          flex-direction: column;
          gap: 8px;
          flex: 1;
        }

        .product-body h3 {
          margin: 0;
          font-size: 18px;
        }

        .price-row {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-top: auto;
          gap: 10px;
        }

        .price {
          font-size: 20px;
          font-weight: 800;
          color: var(--primary);
        }

        .badge {
          font-size: 12px;
          padding: 4px 10px;
          border-radius: 999px;
          color: #fff;
          font-weight: 700;
        }

        .badge.green { background: var(--success); }
        .badge.red { background: var(--danger); }

        .product-actions {
          display: flex;
          gap: 8px;
          margin-top: 10px;
        }

        .btn {
          flex: 1;
          padding: 10px 12px;
          border-radius: 10px;
          border: none;
          cursor: pointer;
          font-weight: 700;
        }

        .btn-outline {
          background: #eef2ff;
          color: var(--primary);
        }

        .btn-outline:hover {
          background: #e0e7ff;
        }

        .btn-primary {
          background: var(--primary);
          color: #fff;
        }

        .btn-primary:hover { background: var(--primary-dark); }

        .features {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 20px;
          margin-top: 40px;
        }

        .feature {
          background: var(--card);
          border-radius: var(--radius);
          padding: 24px;
          text-align: center;
          box-shadow: var(--shadow);
        }


        .footer {
          background: #0f172a;
          color: #cbd5f5;
          margin-top: 60px;
        }

        .footer-inner {
          max-width: 1200px;
          margin: 0 auto;
          padding: 40px 20px;
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 20px;
        }

        .footer h4 { margin-top: 0; color: #fff; }


        @media (max-width: 1000px) {
          .categories, .products-grid, .features {
            grid-template-columns: repeat(2, 1fr);
          }
        }

        @media (max-width: 600px) {
          .nav-links { display: none; }
          .categories, .products-grid, .features {
            grid-template-columns: 1fr;
          }
        }
    </style>


</head>
<body>


<div class="navbar">
    <div class="nav-inner">
        <div class="brand">üõí E-Store</div>

        <div class="nav-links">
            <a th:href="@{/user/dashboard}">Home</a>
            <a th:href="@{/user/orders}">My Orders</a>
            <a th:href="@{/cart}">Cart üõí</a>

        </div>

        <div class="nav-actions">
            <form class="search-box" th:action="@{/user/dashboard}" method="get">
                <input type="text" name="keyword" placeholder="Search products" />
                <button type="submit">üîç</button>
            </form>


            <div class="user-menu">
                üë§ <span sec:authentication="name">User</span>
                |
                <a th:href="@{/logout}">Logout</a>
            </div>
        </div>
    </div>
</div>


<div class="hero">
    <div class="hero-box">
        <h1>Welcome to E-Store</h1>
        <p>Discover amazing products at unbeatable prices. Shop with confidence!</p>
    </div>
</div>


<div class="section">
    <h2>Shop by Category</h2>
    <div class="categories">

        <a th:href="@{/user/products(category='Electronics')}" style="text-decoration:none;">
            <div class="category-card">
                <h4>Electronics</h4>
                <p>Smartphones, Laptops, Tablets</p>
            </div>
        </a>

        <a th:href="@{/user/products(category='Fashion')}" style="text-decoration:none;">
            <div class="category-card">
                <h4>Fashion</h4>
                <p>Clothing, Shoes, Accessories</p>
            </div>
        </a>

        <a th:href="@{/user/products(category='Home & Living')}" style="text-decoration:none;">
            <div class="category-card">
                <h4>Home & Living</h4>
                <p>Furniture, Decor, Kitchen</p>
            </div>
        </a>

        <a th:href="@{/user/products(category='Books')}" style="text-decoration:none;">
            <div class="category-card">
                <h4>Books</h4>
                <p>Fiction, Education, Business</p>
            </div>
        </a>


    </div>
</div>



<div class="section" id="products">
    <h2>Featured Products</h2>

    <div class="products-grid">
        <!-- Thymeleaf loop -->
        <div class="product-card" th:each="p : ${products}">
            <img th:src="${p.coverImage != null ? '/uploads/' + p.coverImage : '/images/product-placeholder.png'}" alt="Product">

            <div class="product-body">
                <h3 th:text="${p.name}">Product Name</h3>

                <div class="price-row">
                    <div class="price">‚Çπ <span th:text="${p.price}">0</span></div>
                    <span class="badge green" th:if="${p.stock > 0}">In Stock</span>
                    <span class="badge red" th:if="${p.stock == 0}">Out of Stock</span>
                </div>

                <div class="product-actions">
                    <a class="btn btn-outline" th:href="@{/products/{id}(id=${p.id})}">View Details</a>

                    <form th:action="@{/cart/add/{id}(id=${p.id})}" method="post" style="margin:0;">
                        <button type="submit" class="btn btn-primary">Add to Cart</button>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <div class="features">
        <div class="feature">
            <div class="icon">üöö</div>
            <h4>Free Shipping</h4>
            <p>Free delivery on orders above ‚Çπ999</p>
        </div>
        <div class="feature">
            <div class="icon">üõ°Ô∏è</div>
            <h4>Secure Payment</h4>
            <p>100% secure payment processing</p>
        </div>
        <div class="feature">
            <div class="icon">üéß</div>
            <h4>24/7 Support</h4>
            <p>Dedicated customer support team</p>
        </div>
    </div>
</div>


<div class="footer">
    <div class="footer-inner">
        <div>
            <h4>E-Store</h4>
            <p>Your one-stop destination for quality products at unbeatable prices.</p>
        </div>
        <div>
            <h4>Contact Info</h4>
            <p>üìç 123 Street, City, Country</p>
            <p>üìû +1 234 567 8900</p>
            <p>‚úâÔ∏è info@estore.com</p>
            <p>üïò Mon-Fri: 9AM-6PM</p>
        </div>
    </div>
</div>

</body>
</html>
